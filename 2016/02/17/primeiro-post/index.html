<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='UTF-8'>
<title>Frankyston Lins: Primeiro Post</title>
<meta content='Frankyston' name='author'>
<meta content='No Terra, o nosso processo de desenvolvimento front-end evoluiu muito nos últimos anos. Relatei o histórico dessa evolução e como saimos de um p...' name='description'>
<meta content='True' name='HandheldFriendly'>
<meta content='320' name='MobileOptimized'>
<meta content='width=device-width, initial-scale=1' name='viewport'>
<meta content='ruby on rails, html, html5, backend, javascript, frontend, web' name='keywords'>
<meta content='IE=edge' http-equiv='X-UA-Compatible'>
<link href='http://frankyston.com' rel='canonical'>
<link href='/favico.ico' rel='icon'>
<link href='http://fonts.googleapis.com/css?family=Ubuntu+Condensed' rel='stylesheet' type='text/css'>
<link href="/stylesheets/site.css" rel="stylesheet" />
<!-- Facebook Tags -->
<meta content='No Terra, o nosso processo de desenvolvimento front-end evoluiu muito nos últimos anos. Relatei o histórico dessa evolução e como saimos de um p...' property='og:description'>
<meta content='Frankyston Lins' property='og:site_name'>
<meta content='Frankyston Lins' property='og:title'>
<meta content='website' property='og:type'>
<meta content='http://frankyston.com' property='og:url'>
</head>
<body>
<nav class='social'>
<ul class='meni__list'>
<li class='meni__item'>
<a class='social__link' href='https://twitter.com/frankyston'>
<svg height='32' version='1.1' viewbox='0 0 32 32' width='32'>
<path d='M32 6.076c-1.177 0.522-2.443 0.875-3.771 1.034 1.355-0.813 2.396-2.099 2.887-3.632-1.269 0.752-2.674 1.299-4.169 1.593-1.198-1.276-2.904-2.073-4.792-2.073-3.626 0-6.565 2.939-6.565 6.565 0 0.515 0.058 1.016 0.17 1.496-5.456-0.274-10.294-2.888-13.532-6.86-0.565 0.97-0.889 2.097-0.889 3.301 0 2.278 1.159 4.287 2.921 5.465-1.076-0.034-2.088-0.329-2.974-0.821-0.001 0.027-0.001 0.055-0.001 0.083 0 3.181 2.263 5.834 5.266 6.437-0.551 0.15-1.131 0.23-1.73 0.23-0.423 0-0.834-0.041-1.235-0.118 0.835 2.608 3.26 4.506 6.133 4.559-2.247 1.761-5.078 2.81-8.154 2.81-0.53 0-1.052-0.031-1.566-0.092 2.905 1.863 6.356 2.95 10.064 2.95 12.076 0 18.679-10.004 18.679-18.68 0-0.285-0.006-0.568-0.019-0.849 1.283-0.926 2.396-2.082 3.276-3.398z' fill='#fff'></path>
</svg>
</a>
</li>
<li class='meni__item'>
<a class='social__link' href='https://github.com/frankyston'>
<svg height='32' version='1.1' viewbox='0 0 32 32' width='32'>
<path d='M0 17.388c0 1.45 0.136 2.762 0.407 3.935 0.271 1.174 0.647 2.193 1.127 3.059 0.48 0.866 1.090 1.627 1.831 2.285 0.741 0.657 1.544 1.195 2.41 1.612 0.866 0.417 1.854 0.756 2.965 1.017 1.111 0.261 2.245 0.443 3.403 0.548 1.158 0.104 2.431 0.156 3.818 0.156 1.398 0 2.676-0.052 3.834-0.156 1.158-0.104 2.295-0.287 3.411-0.548 1.116-0.261 2.11-0.6 2.981-1.017 0.871-0.417 1.68-0.954 2.425-1.612 0.746-0.657 1.361-1.419 1.846-2.285 0.485-0.866 0.863-1.886 1.134-3.059 0.271-1.174 0.407-2.486 0.407-3.935 0-2.587-0.866-4.825-2.597-6.713 0.094-0.25 0.18-0.535 0.258-0.853 0.078-0.318 0.151-0.772 0.219-1.361 0.068-0.589 0.042-1.27-0.078-2.042-0.12-0.772-0.342-1.56-0.665-2.363l-0.235-0.047c-0.167-0.031-0.441-0.023-0.822 0.024s-0.824 0.141-1.33 0.282c-0.506 0.141-1.158 0.412-1.956 0.814-0.798 0.402-1.64 0.905-2.527 1.51-1.523-0.417-3.615-0.626-6.275-0.626-2.65 0-4.736 0.209-6.259 0.626-0.887-0.605-1.734-1.108-2.543-1.51-0.808-0.402-1.453-0.673-1.933-0.814-0.48-0.141-0.928-0.232-1.346-0.274-0.417-0.042-0.681-0.055-0.79-0.039-0.11 0.016-0.196 0.034-0.258 0.055-0.323 0.803-0.545 1.591-0.665 2.363-0.12 0.772-0.146 1.453-0.078 2.042 0.068 0.589 0.141 1.043 0.219 1.361 0.078 0.318 0.164 0.602 0.258 0.853-1.732 1.888-2.598 4.126-2.598 6.713zM3.928 21.315c0-1.502 0.683-2.879 2.050-4.131 0.407-0.376 0.881-0.66 1.424-0.853 0.542-0.193 1.155-0.302 1.839-0.329 0.683-0.026 1.338-0.021 1.964 0.016 0.626 0.037 1.398 0.086 2.316 0.149 0.918 0.063 1.711 0.094 2.379 0.094 0.668 0 1.46-0.031 2.378-0.094 0.918-0.063 1.69-0.112 2.316-0.149 0.626-0.037 1.28-0.042 1.964-0.016 0.683 0.026 1.296 0.136 1.839 0.329 0.542 0.193 1.017 0.477 1.424 0.853 1.367 1.231 2.050 2.608 2.050 4.131 0 0.897-0.112 1.693-0.337 2.386-0.224 0.694-0.511 1.275-0.861 1.745-0.349 0.469-0.834 0.868-1.455 1.197-0.621 0.329-1.226 0.582-1.815 0.759-0.589 0.177-1.346 0.316-2.269 0.415-0.923 0.099-1.747 0.159-2.472 0.18-0.725 0.021-1.646 0.031-2.762 0.031-1.116 0-2.037-0.010-2.762-0.031-0.725-0.021-1.549-0.081-2.472-0.18-0.923-0.099-1.68-0.237-2.269-0.415-0.589-0.177-1.194-0.43-1.815-0.759-0.621-0.329-1.106-0.728-1.455-1.197-0.349-0.469-0.636-1.051-0.861-1.745-0.224-0.694-0.336-1.489-0.336-2.386zM20 21c0-1.657 0.895-3 2-3s2 1.343 2 3c0 1.657-0.895 3-2 3-1.105 0-2-1.343-2-3zM8 21c0-1.657 0.895-3 2-3s2 1.343 2 3c0 1.657-0.895 3-2 3-1.105 0-2-1.343-2-3z' fill='#fff'></path>
</svg>
</a>
</li>
</ul>
</nav>
<header class='topWrap'>
<section class='lobby'>
<h1 class='pageTitle'>
<a href='/'>
Frankyston Lins
</a>
</h1>
<div class='subtitle'>Coisas sobre Ruby on Rails e desenvolvimento Web</div>
</section>
</header>
<ul class='categories'>
<li>
<a class='categoryTag' href='/tag/comunidade/'>comunidade</a>
</li>
</ul>

<article class='postContent'>
<h1 class='post-title'>Primeiro Post</h1>
<p>No Terra, o nosso processo de desenvolvimento front-end evoluiu muito nos últimos anos.
Relatei o histórico dessa evolução e como saimos de um processo totalmente falho para um processo eficaz e automatizado na palestra &ldquo;Processo de Desenvolvimento front-end - Do caos ao Sublime&rdquo;, também disponível em vídeo.
Nosso processo antigo baseava-se basicamente em uma coisa: fazer commit no SVN.
Em uma imagem:</p>

<h2>Go-Horse detected</h2>

<p>Esse processo testless, horseness, etc, provavelmente foi aplicado em muitas empresas no passado (e ainda é!?!?!?!), e mudar a cultura é algo difícil.
Isso tudo foi na era pré-jQuery e eu ainda nem fazia parte da empresa, mas quando cheguei, esse era o cenário.</p>

<p>Acredito que a base para se ter um produto de qualidade é garantir que o código também tenha qualidade.
Um ambiente de desenvolvimento com tecnologia de ponta e processos bem definidos é uma das ferramentas que vai nos permitir fazer código consistente, consequentemente gerando produtos melhores.</p>

<h2>Testar front-end é difícil</h2>

<p>Front-end é diferente. Deal with it.
Óbvio que muitos dos conceitos existentes em outras linguagens e plataformas são aplicáveis nesse mundo, mas não tudo.
Para empresas em que a realidade não é o desenvolvedor full-stack isso fica muito claro. Basta falar com um desenvolvedor com brackground back-end para entender que pouca coisa pode ser reutilizada na camada do browser.</p>

<p>Fazer qualquer tipo de teste no ambiente front-end não é uma tarefa fácil.</p>

<p>A velha história: browsers, resolução de tela, sistema operacional, devices e plataformas diferentes são algumas das variáveis que temos nesse mundo complexo.</p>

<p>A verdade é que agora estamos em um cenário totalmente diferente. Dizer que &ldquo;é difícil&rdquo; não é mais desculpa, e difícil não é impossível.</p>

<p>Com o avanço da tecnologia na área de front-end e a quantidade de ferramentas disponíveis que temos atualmente, testar bem e de forma automatizada o seu produto, ter processos coerentes, seguir e aplicar conceitos sólidos de mercado, etc, é o mínimo.</p>

<h2>Onde estamos no Terra</h2>

<p>Estamos no ponto que ainda considero básico.</p>

<ul>
<li>Todas aplicações são (ou devem ser) baseados no nosso Framework interno</li>
<li>Todas aplicações devem possuir testes unitários</li>
<li>Os testes unitários rodam no PhantomJS e no browser</li>
<li>Todas aplicações são iniciadas com um scaffold básico que garante consistência</li>
<li>Todas aplicações devem ser documentadas</li>
<li>O build de todas aplicações são baseadas no Grunt</li>
<li>O Grunt garante que todas aplicações possuam tasks básicas de validação e de build</li>
<li>Cada aplicação é um projeto isolado no Github (usamos a solução enterprise)</li>
<li>O deploy é feito de forma automática pelo noss CI server (Jenkins)</li>
<li>O CI server obrigatóriamente roda as tasks de build e validação.</li>
</ul>

<p><br>Pontos falhos que devemos melhorar:</p>

<p>O desenvolvedor pode desabilitar os testes antes de fazer deploy
Grande parte dos testes da aplicação precisam de mão humana
Não existe teste comportamental nos projetos (BDD)
Não existe teste automatizado para múltiplos browsers, plataformas e dispositivos
Não existe um dashboard para acompanhar o status de cada aplicação</p>

<h2>Como resolver os pontos falhos</h2>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="s2">"JavaScript syntax highlighting"</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>
</code></pre>

<p>&ldquo;O desenvolvedor pode desabilitar os testes antes de fazer deploy&rdquo; O nosso CI server roda 2 tasks do Grunt: ci-validate e ci-build.
Estas tasks são responsáveis por validar (testes, lint, style, etc) e fazer o build.
O problema é que a task de validação precisa existir no projeto, e em alguns casos ela já foi desabilitada por algum desenvolvedor espertinho que não quis parar para resolver um erro simples, ou não quis validar os testes unitários.
Uma possível solução seria criar um mecanismo de defesa que sempre incluisse a task de validação no CI server. Desta maneira, mesmo que o projeto não faça validação, o servidor irá fazer, e bloquear a deploy em caso de falha.</p>

<p><em>&ldquo;Grande parte dos testes da aplicação precisam de mão humana&rdquo;</em>
A responsabilidade de testar uma interface fica dividida entre desenvolvedor, gerente, área de produtos e quem mais estiver envolvido no projeto.
Isso é péssimo, nunca ninguém sabe ao certo o que validar, e tudo acaba sendo muito superficial.
Uma possível solução seria integrar a cada projeto testes compartamentais, tornando assim o processo mais consistente e menos dependente de pessoas.</p>

<p><em>&ldquo;Não existe teste automatizado para múltiplos browsers, plataformas e dispositivos&rdquo;</em>
O processo que temos hoje apenas roda testes no PhantomJS rodando em um Linux.
Já é um primeiro passo, mas longe do ideal.
Nosso próximo passo é integrar alguma solução como o WebDriver.</p>

<h2>Conclusão</h2>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">A</span> <span class="o">&lt;</span> <span class="no">B</span><span class="p">;</span> <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="n">object</span> <span class="o">=</span> <span class="no">User</span><span class="p">)</span> <span class="n">object</span> <span class="k">end</span> <span class="k">end</span>
<span class="k">class</span> <span class="nc">Zebra</span><span class="p">;</span> <span class="k">def</span> <span class="nf">inspect</span><span class="p">;</span> <span class="s2">"X</span><span class="si">#{</span><span class="mi">2</span> <span class="o">+</span> <span class="nb">self</span><span class="p">.</span><span class="nf">object_id</span><span class="si">}</span><span class="s2">"</span> <span class="k">end</span> <span class="k">end</span>

<span class="k">module</span> <span class="nn">ABC::DEF</span>
  <span class="kp">include</span> <span class="no">Comparable</span>

  <span class="c1"># @param test</span>
  <span class="c1"># @return [String] nothing</span>
  <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="nb">test</span><span class="p">)</span>
    <span class="no">Thread</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span><span class="n">blockvar</span><span class="o">|</span>
      <span class="no">ABC</span><span class="o">::</span><span class="no">DEF</span><span class="p">.</span><span class="nf">reverse</span><span class="p">(</span><span class="ss">:a_symbol</span><span class="p">,</span> <span class="ss">:'a symbol'</span><span class="p">,</span> <span class="ss">:&lt;=&gt;</span><span class="p">,</span> <span class="s1">'test'</span> <span class="o">+</span> <span class="sc">?\012</span><span class="p">)</span>
      <span class="n">answer</span> <span class="o">=</span> <span class="n">valid?</span><span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="n">valid?</span><span class="no">CONST</span> <span class="o">&amp;&amp;</span> <span class="sc">?A</span> <span class="o">&amp;&amp;</span> <span class="sc">?A</span><span class="p">.</span><span class="nf">ord</span>
    <span class="k">end</span><span class="p">.</span><span class="nf">join</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">[]</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="nb">self</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="k">end</span>
  <span class="k">def</span> <span class="nf">==</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="n">other</span> <span class="o">==</span> <span class="nb">self</span> <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Car</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">has_many</span> <span class="ss">:wheels</span><span class="p">,</span> <span class="ss">class_name: </span><span class="s1">'Wheel'</span><span class="p">,</span> <span class="ss">foreign_key: </span><span class="s1">'car_id'</span>
  <span class="n">scope</span> <span class="ss">:available</span><span class="p">,</span> <span class="o">-&gt;</span> <span class="p">{</span> <span class="n">where</span><span class="p">(</span><span class="ss">available: </span><span class="kp">true</span><span class="p">)</span> <span class="p">}</span>
<span class="k">end</span>

<span class="nb">hash</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="s1">'one'</span><span class="p">,</span> <span class="mi">2</span> <span class="o">=&gt;</span> <span class="s1">'two'</span><span class="p">}</span>

<span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="n">p0</span> <span class="p">:</span><span class="mo">001</span> <span class="o">&gt;</span> <span class="p">[</span><span class="s1">'some'</span><span class="p">]</span>
 <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"some"</span><span class="p">]</span>
</code></pre>

<p>Mesmo não sendo nada revolucionário, resolvi compartilhar o que fazemos, pois tenho certeza que será útil de alguma forma para alguém.
Como falei antes, ainda considero esse processo muito básico e estamos correndo para chegar em um outro patamar em breve.
Comparando com o processo anterior, evoluímos uns 10 anos em pouco mais de 2.</p>

<div id='disqus_thread'></div>
<script type='text/javascript'>
//<![CDATA[
                  var disqus_shortname = 'frankyston';
          
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
//]]>
</script>
<noscript>Please enable JavaScript to view the <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus.</a></noscript>
<a href='http://disqus.com' class='dsq-brlink'>comments powered by <span class='logo-disqus'>Disqus</span></a>

</article>

<footer class='bottom'>
<div class='licenses'>
<span>
Publicado com
<a href='https://middlemanapp.com/' target='_blank'>Middleman</a>
| Repositório no
<a href='https://github.com/frankyston/frankyston.github.io' target='_blank'>Github</a>
</span>
</div>
</footer>
<!-- Google Analytics -->
<!-- JS -->
<script src="/javascripts/application.js"></script>
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-45299862-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
